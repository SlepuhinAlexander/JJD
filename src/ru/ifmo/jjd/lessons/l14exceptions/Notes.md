## Ошибки, исключительные ситуации

Эксепшен - это любая некорректная / непредвиденная ситуация.
В языке очень много исключений: обращение к несуществующему элементу массива; обращение к свойству / методу
несуществующего (null) объекта; целочисленное деление на ноль и так далее.
Все исключения - это ОБЪЕКТЫ.
Есть готовые исключения, реализованные в языке. Пользователь может создавать свои исключения: Описать новый
класс исключения, и при необходимости создавать объекты этих исключений.
Поскольку исключения это объекты (и классы) - они имеют иерархию наследования.
Во главе иерархии лежит интерфейс Throwable (с набором методов, которые есть у каждого исключения).
https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html
![](Exceptions.png)

Все исключения делятся на Error и Exception

Error - это ошибки на уровне JVM, достаточно серьёзные.
Например: нехватка памяти кучи, нехватка памяти стека.

Ошибки никак не обрабатываются: при выпадении ошибки программа всё равно прекратит исполнение. Поэтому обработка такой 
ошибки бессмысленна.
Повлиять на выпадение ошибки нельзя.

Все наследники класса Exception - это уже не ошибки, а исключения. **Все** исключения можно *предугадать* и 
*обработать*.
Несмотря на это, некоторые исключения обрабатывать бессмысленно. А некоторые исключения строго обязательно обрабатывать.

Все исключения делятся на: 
- RuntimeException (и его наследники) - исключения времени выполнения / необрабатываемые / не-отслеживаемые / 
    неконтролируемые / unchecked 
- не-Runtime Exception - исключения времени компиляции / обрабатываемые / отслеживаемые / контролируемые

Все наследники Runtime Exception - обрабатывать *можно*, но *не обязательно*. Зависит от целесообразности.  
Все остальные эксепшены (не-рантайм) - обрабатывать **строго обязательно**.

Исходя из названий можно сделать вывод, что не-рантайм исключения проверяются и выбрасываются во время *компиляции* 
программы, при статическом анализе кода. Соответственно, если эксепшен вылетел, то значит он будет выпадать всегда -> 
компиляция не завершена, программа не запустится.
А рантайм эксепшены - проверяются и выбрасываются во время исполнения программы, динамически: могут вылететь, могут 
нет, в зависимости от текущих данных. И обрабатывать их поэтому тоже можно выборочно: какие-то проблемы должны 
стопорить работу программы, а какие-то мы можем динамически-же исправить.

примеры RuntimeException: [ExceptionsDemo.java](ExceptionsDemo.java)

    int a = 9;
    int b = 0;
    int res = a / b;
    

## Обработка исключений

Обработка исключений едина: и для проверяемых и для непроверяемых исключений.
Для обработки исключений используется try/catch блок и блок finally

В блоке try описываются действия, которые могут выбросить исключения. Потенциально опасный код.
В блоке catch - перечисление перехватываемых исключений. И описание действий, которые необходимо выполнить при отлове 
перехватываемого исключения.
Если исключение будет отловлено, то отработают все инструкции в блоке catch и программа продолжит выполнение.

[ExceptionsDemo.java](ExceptionsDemo.java) описание перехвата исключений

Объединение нескольких catch (варианты)
Объединение catch с учётом иерархии.

блок finally.

## Выбрасывание исключений

Исключения можно не только обрабатывать, но и выбрасывать самостоятельно.  
[ExceptionsDemo.java](ExceptionsDemo.java) метод voidWithUncheckedException()

## Создание собственных исключений

Можно описывать собственные классы исключений и использовать их в своём проекте.
создали [SomeMessage.java](SomeMessage.java)
создали [ChatException.java](ChatException.java)