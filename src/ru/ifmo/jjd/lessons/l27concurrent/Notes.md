## Пакет Concurrency

### Потоко-безопасные коллекции

Потоко-безопасные коллекции:
- Vector
- Stack
- HashTable

Внутри методов этих коллекций - блоки synchronize. При обращении потока к такой коллекции, объект блокируется и другие 
потоки не будут иметь доступа к ним.

Коллекция / мапа блокируется целиком.

Данные три коллекции очень медленные. Использовать их не рекомендуется.

Однопоточные коллекции и мапы:
Из однопоточной коллекции можно сделать многопоточную коллекцию методом класса Collections:
    
    List<String> list = Collections.synchronizedList(new ArrayList<>());
    Set<String> set = Collections.synchronizedList(new HashSet<>());
    Map<String, Integer> map = Collections.synchronizedMap(new HashMap<>());
    
Действуют аналогично: делают коллекцию / мапу - synchronized. При обращении потока к такой коллекции / мапе будет 
происходить её полная блокировка, другие потоки доступа к ней не получат.
Других изменений нет, у коллекции / мапы остаются все те же методы.

Потокобезопасные коллекции не имеет смысла использовать в однопоточных приложениях. Либо когда только один поток 
работает с коллекцией.
Однопоточные коллекции для этих задач гораздо производительней. 

#### Потокобезопасные коллекции из пакета concurrent

Для таких коллекций не используется полная блокировка коллекции. Используется либо копирование объекта / части объекта 
(для изменения) а затем объединение результата с исходной коллекцией. Либо используется блокировка только части 
объекта, которую нужно защитить / заблокировать.

Коллекции CopyOnWrite#####

Используется когда коллекция часто используется для чтения и сравнительно значительно реже для обновления: вставки / 
удаления. 
При каждой операции изменения коллекции (вставки / удаления) будет создана её копия, для изменения, а затем объединение 
изменённой копии с оригинальной коллекцией.
Поэтому рекомендуется нечастое изменение коллекции.

[ThreadSafeCollections](ThreadSafeCollections.java) 

### Очереди

Очереди используются для ситуаций:
- есть потоки, которые добавляют данные в очередь, и прекращают добавление, когда она заполнена.
- и есть потоки, которые забирают данные из очереди, но только когда в ней есть что забирать.

Очереди бывают однонаправленные и двунаправленные

Очереди бывают однонаправленные и двунаправленные.
[BlockingQueueDemo](BlockingQueueDemo.java)

[DelayQueueDemo](DelayQueueDemo.java)
